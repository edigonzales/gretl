import ch.so.agi.gretl.tasks.*

apply plugin: 'ch.so.agi.gretl'

def testDbFileName = file("./ch.so.sk.gesetze").getAbsolutePath()

defaultTasks 'dataupdate'

task schemaimport(type: Ili2h2gisImportSchema){
    dbfile = testDbFileName
    models = "OeREBKRMvs_V1_1"
    createBasketCol = true
    createTidCol = true
    
}

task dataimport(type: Ili2h2gisImport, dependsOn: 'schemaimport') {
    dbfile = testDbFileName
    models = "OeREBKRMvs_V1_1"
    dataFile = file("ch.so.sk.gesetze.xtf")
    disableValidation = true
    dataset = "ch.so.sk.gesetze"
    importTid = true
    importBid = true
}

task dataupdate(type: Ili2h2gisUpdate, dependsOn: 'dataimport') {
    dbfile = testDbFileName
    models = "OeREBKRMvs_V1_1"
    dataFile = file("ch.so.sk.gesetze_update.xtf")
    disableValidation = true
    dataset = "ch.so.sk.gesetze"
    importTid = true
    importBid = true    
}

