import ch.so.agi.gretl.tasks.*

apply plugin: 'ch.so.agi.gretl'

def testDbFileName = file("./254900").getAbsolutePath()

defaultTasks 'datareplace'

task schemaimport(type: Ili2h2gisImportSchema){
    dbfile = testDbFileName
    models = "DM01AVSO24LV95"
    defaultSrsCode = "2056"
    createBasketCol = true
    createDatasetCol = true
}

task dataimport(type: Ili2h2gisImport, dependsOn: 'schemaimport') {
    dbfile = testDbFileName
    models = "DM01AVSO24LV95"
    dataFile = file("254900.itf")
    disableValidation = true
    dataset = "2549"
}

task datareplace(type: Ili2h2gisReplace, dependsOn: 'dataimport') {
    dbfile = testDbFileName
    models = "DM01AVSO24LV95"
    dataFile = file("254900_new.itf")
    disableValidation = true
    dataset = "2549"
}

